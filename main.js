(()=>{"use strict";var t=[48,50,53,55,57,60,62,65,67,69,72,74,77,79,81,84,86,89,91,93,96],e=!1,a="",n=function(t){return!1},r=function(t){try{t.preventDefault()}catch(t){}return e&&this.setAttribute("data-value",a),!1},o=function(t){try{t.preventDefault()}catch(t){}var n="on";return"on"==this.getAttribute("data-value")&&(n="off"),this.setAttribute("data-value",n),e=!0,a=this.getAttribute("data-value"),!1},u=function(){e=!1},d=new AudioContext,i=d.sampleRate,c=.25*i,l=[];t.forEach((function(t){var e;l[t]=function(t,e){for(var a=t.createBuffer(1,c,i),n=a.getChannelData(0),r=0;r<c;r++){var o=r/c*e*90;n[r]=Math.sin(o*Math.PI/180)*(1-r/c)*Math.min(r/(c/32),1)}return a}(d,(e=t,440*Math.pow(2,(e-57)/12)))}));var s=function(e){var a,d,i=document.createElement("div");i.classList.add("row");for(var c=0;c<16;c++)i.appendChild((a=t[16-e-1],d=void 0,(d=document.createElement("div")).classList.add("button"),d.draggable=!1,d.setAttribute("draggable","false"),d.setAttribute("data-value","off"),d.addEventListener("dragover",r),d.addEventListener("mouseover",r),d.addEventListener("dragleave",n),d.addEventListener("dragend",n),d.addEventListener("mousedown",o),d.addEventListener("mouseup",u),d.setAttribute("data-note",a),d));return i};window.addEventListener("mouseup",u),document.querySelector(".container").appendChild(function(){var t=document.createElement("div");t.classList.add("board"),t.setAttribute("data-position","0");for(var e=0;e<16;e++)t.appendChild(s(e));return t}()),setInterval((function(){var t=document.querySelector(".board");t.setAttribute("data-position",(parseInt(t.getAttribute("data-position"))+1)%16);var e,a,n,r,o=parseInt(t.getAttribute("data-position")),u='.board[data-position="'+o+'"] .button:nth-child('+(o+1)+")[data-value=on]",i=document.querySelectorAll(u);if(i.length>0)for(var c=1/i.length,s=0;s<i.length;s++)e=i[s],a=c,n=void 0,r=void 0,n=d.createBufferSource(),r=d.createGain(),n.buffer=l[parseInt(e.getAttribute("data-note"))],n.connect(r),r.connect(d.destination),r.gain.value=.7*a,n.start(0)}),117.1875),document.querySelector("#toggle").addEventListener("click",(function(){console.log("focus");var t=document.querySelector("#about"),e=document.querySelector(".board");t.classList.toggle("flipped"),e.classList.toggle("flipped")})),document.querySelector("#clear").addEventListener("click",(function(){for(var t=document.querySelectorAll(".button[data-value=on]"),e=0;e<t.length;e++)t[e].setAttribute("data-value","off")})),document.querySelector("#generate").addEventListener("click",(function(){for(var t=document.querySelectorAll(".button[data-value=on]"),e=0;e<t.length;e++)t[e].setAttribute("data-value","off");for(t=document.querySelectorAll(".button"),e=0;e<t.length;e++){var a="off";12345*Math.random()>2e4*Math.random()&&(a="on"),t[e].setAttribute("data-value",a)}}))})();