<!DOCTYPE html>
<html>
    <head>
        <title>ToneMatrix</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="css/ToneMatrix.css">
        <script src="js/ToneMatrix.js"></script>
    </head>
    <body>
        <div class="container">
            <div class="panel">
                <ul>
                    <li>
                        <a id="toggle" href="#">About</a>
                    </li>
                    <li>
                        <a id="clear" href="#">Clear</a>
                    </li>
                    <li>
                        <a id="generate" href="#">Generate</a>
                    </li>
                </ul>
            </div>
            <div id="about">
                <h1>ToneMatrix</h1>
                <p>
                    <dl>
                      <dt>Made by:</dt>
                      <dd>and3k5 @ github</dd>
                      <dt>Made with</dt>
                      <dd>js and css</dd>
                    </dl>
                </p>
            </div>
        </div>
        <script>
            document.querySelector(".container").appendChild(Board());
            start();
            
            document.querySelector("#toggle").addEventListener("click",function () {
                console.log("focus");
                var about=document.querySelector("#about");
                var board=document.querySelector(".board");
                
                about.classList.toggle("flipped");
                board.classList.toggle("flipped");
            })
            
            document.querySelector("#clear").addEventListener("click",function () {
                var buttons=document.querySelectorAll(".button[data-value=on]");
                for (var i=0;i<buttons.length;i++) {
                    buttons[i].setAttribute("data-value","off");
                }
                
            });
            
            document.querySelector("#generate").addEventListener("click",function () {
                var buttons=document.querySelectorAll(".button[data-value=on]");
                for (var i=0;i<buttons.length;i++) {
                    buttons[i].setAttribute("data-value","off");
                }
                
                buttons=document.querySelectorAll(".button");
                
                for (var i=0;i<buttons.length;i++) {
                    var value="off";
                    if ((Math.random()*12345)>(Math.random()*20000)) {
                        value="on";
                    }
                    buttons[i].setAttribute("data-value",value);
                }
            });
        </script>
    </body>
</html>